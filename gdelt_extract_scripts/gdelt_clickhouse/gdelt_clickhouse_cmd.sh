#bin/bash
container_name='gdelt_clickhouse'
host=$(docker inspect --format="{{ .NetworkSettings.IPAddress }}" $container_name)

docker run -it --rm --link $container_name:clickhouse-server yandex/clickhouse-client --host clickhouse-server -q "CREATE TABLE gdelt (GlobalEventID UInt8, Day Date, MonthYear UInt8, Year UInt16, FractionDate UInt8, Actor1Code String, Actor1Name String, Actor1CountryCode String, Actor1KnownGroupCode String, Actor1EthnicCode String, Actor1Religion1Code String, Actor1Religion2Code String, Actor1Type1Code String, Actor1Type2Code String, Actor1Type3Code String, Actor2Code String, Actor2Name String, Actor2CountryCode String, Actor2KnownGroupCode String, Actor2EthnicCode String, Actor2Religion1Code String, Actor2Religion2Code String, Actor2Type1Code String, Actor2Type2Code String, Actor2Type3Code String, IsRootEvent String, EventCode String, EventBaseCode UInt16, EventRootCode UInt16, QuadClass UInt16, GoldsteinScale String, NumMentions UInt16, NumSources UInt16, NumArticles UInt16, AvgTone Float32, Actor1Geo_Type UInt16, Actor1Geo_Fullname String, Actor1Geo_CountryCode String, Actor1Geo_ADM1Code String, Actor1Geo_Lat String, Actor1Geo_Long String, Actor1Geo_FeatureID String, Actor2Geo_Type String, Actor2Geo_FullName String, Actor2Geo_CountryCode String, Actor2Geo_ADM1Code String, Actor2Geo_Lat String, Actor2Geo_Long String, Actor2Geo_FeatureID String, ActionGeo_Type String, ActionGeo_FullName String, ActionGeo_CountryCode String, ActionGeo_ADM1Code String, ActionGeo_Lat String, ActionGeo_Long String, ActionGeo_FeatureID String, DATEADDED UInt16, SOURCEURL String)ENGINE = MergeTree(Day, (Day, FractionDate), 8192);"



