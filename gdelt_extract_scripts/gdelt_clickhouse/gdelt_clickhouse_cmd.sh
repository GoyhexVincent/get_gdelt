#bin/bash
container_name='gdelt_clickhouse'
host=$(docker inspect --format="{{ .NetworkSettings.IPAddress }}" $container_name)

docker run -it --rm --link $container_name:clickhouse-server yandex/clickhouse-client --host clickhouse-server -q "CREATE TABLE gdelt (GlobalEventID Nullable(UInt8), Day Nullable(UInt16), MonthYear Nullable(UInt8), Year Nullable(UInt16), FractionDate Nullable(Float32), Actor1Code Nullable(String), Actor1Name Nullable(String), Actor1CountryCode Nullable(String), Actor1KnownGroupCode Nullable(String), Actor1EthnicCode Nullable(String), Actor1Religion1Code Nullable(String), Actor1Religion2Code Nullable(String), Actor1Type1Code Nullable(String), Actor1Type2Code Nullable(String), Actor1Type3Code Nullable(String), Actor2Code Nullable(String), Actor2Name Nullable(String), Actor2CountryCode Nullable(String), Actor2KnownGroupCode Nullable(String), Actor2EthnicCode Nullable(String), Actor2Religion1Code Nullable(String), Actor2Religion2Code Nullable(String), Actor2Type1Code Nullable(String), Actor2Type2Code Nullable(String), Actor2Type3Code Nullable(String), IsRootEvent Nullable(String), EventCode Nullable(String), EventBaseCode Nullable(String), EventRootCode Nullable(String), QuadClass Nullable(UInt16), GoldsteinScale Nullable(String), NumMentions Nullable(UInt16), NumSources Nullable(UInt16), NumArticles Nullable(UInt16), AvgTone Nullable(Float32), Actor1Geo_Type Nullable(UInt16), Actor1Geo_Fullname Nullable(String), Actor1Geo_CountryCode Nullable(String), Actor1Geo_ADM1Code Nullable(String), Actor1Geo_Lat Nullable(String), Actor1Geo_Long Nullable(String), Actor1Geo_FeatureID Nullable(String), Actor2Geo_Type Nullable(String), Actor2Geo_FullName Nullable(String), Actor2Geo_CountryCode Nullable(String), Actor2Geo_ADM1Code Nullable(String), Actor2Geo_Lat Nullable(String), Actor2Geo_Long Nullable(String), Actor2Geo_FeatureID Nullable(String), ActionGeo_Type Nullable(String), ActionGeo_FullName Nullable(String), ActionGeo_CountryCode Nullable(String), ActionGeo_ADM1Code Nullable(String), ActionGeo_Lat Nullable(String), ActionGeo_Long Nullable(String), ActionGeo_FeatureID Nullable(String), DATEADDED Nullable(UInt16), SOURCEURL Nullable(String))ENGINE = TinyLog ;"



